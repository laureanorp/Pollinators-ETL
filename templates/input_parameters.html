<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Laureano Ruiz Pérez">
    <meta name="author" content="">
    <title>Input Parameters</title>
    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <!-- Custom styles -->
    <link href="../static/custom.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
<div class="container">
    <nav class="navbar navbar-light">
        <h3 class="text-muted">RFID Pollinators</h3>
        <a class="inline btn btn-outline-secondary" href="http://localhost:5000/home" role="button">Home</a>
    </nav>
    <hr class="mb-5"/>

    <div class="jumbotron">
        <h1>Parameters</h1>
        <p class="lead">The final step consists on introducing the parameters that will be used to process all the data.
            Some of them are optional. Depending on this parameters, final results will vary.</p>
    </div>

    <form action="http://localhost:5000/view-results" method="post" class="needs-validation" novalidate>
        <hr/>
        <label for="start_date_filter" class="form-label">Start date and time for filtering the dataset.</label>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Start date</span>
            <input type="datetime-local" id="start_date_filter" name="start_date_filter" value="2021-01-01T00:00"
                   min="2010-01-01T00:00" max="2050-01-01T00:00">
        </div>

        <label for="end_date_filter" class="form-label">End date and time for filtering the dataset.</label>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">End date</span>
            <input type="datetime-local" id="end_date_filter" name="end_date_filter" value="2021-01-01T00:00"
                   min="2010-01-01T00:00" max="2050-01-01T00:00">
        </div>

        <label for="max_time_between_signals" class="form-label">Choose the maximum time in seconds that is considered
            to be the same
            visit between a signal and the
            next.</label>
        <div class="input-group has-validation">
            <span class="input-group-text" id="basic-addon3">Max time between signals</span>
            <input type="text" class="form-control" id="max_time_between_signals" placeholder="Number <1"
                   aria-describedby="basic-addon3" name="max_time_between_signals" required>
            <div class="invalid-feedback">
                Please write a valid number
            </div>
        </div>

        <label class="form-label">Choose to round or truncate milliseconds of the timestamps</label>
        <div class="input-group mb-3 has-validation">
            <select class="form-select" aria-label="Default select example" name="round_or_truncate" required>
                <option selected value="round">Round milliseconds</option>
                <option value="truncate">Truncate milliseconds</option>
            </select>
        </div>

        <label class="form-label">Filter tags by genotypes visited?</label>
        <div class="input-group mb-3 has-validation">
            <select class="form-select" aria-label="Default select example" name="filter_tags_by_visited_genotypes"
                    required>
                <option selected value="False">No, include all pollinators of the data</option>
                <option value="True">Yes</option>
            </select>
        </div>

        <label for="visited_genotypes_required" class="form-label">Visited genotypes required</label>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Visited genotypes required</span>
            <input type="text" class="form-control" id="visited_genotypes_required" placeholder="Python list (WIP)"
                   aria-describedby="basic-addon3" name="visited_genotypes_required">
        </div>

        <label for="pollinators_to_remove" class="form-label">Pollinators to remove</label>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Pollinators to remove</span>
            <input type="text" class="form-control" id="pollinators_to_remove" placeholder="Python list (WIP)"
                   aria-describedby="basic-addon3" name="pollinators_to_remove">
        </div>

        <label for="flowers_per_antenna" class="form-label">Flowers per antenna.</label>
        <div class="input-group mb-3 has-validation">
            <span class="input-group-text" id="basic-addon3">Flowers per antenna</span>
            <input type="text" class="form-control" id="flowers_per_antenna" placeholder="Number <=1"
                   aria-describedby="basic-addon3" name="flowers_per_antenna" required>
            <div class="invalid-feedback">
                Please write a valid number
            </div>
        </div>

        <div class="d-flex justify-content-center">
            <a class="btn btn-lg btn-outline-secondary m-3" href="http://localhost:5000/input-genotypes" role="button">Back</a>
            <input class="btn btn-lg btn-success m-3" type="submit" value="Run pipeline"/>
        </div>
    </form>

    <footer class="footer">
        <p>&copy; 2021 Laureano Ruiz · RFID Pollinators · Part of Name of the Project</p>
    </footer>

    <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function () {
            'use strict'
            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.querySelectorAll('.needs-validation')
            // Loop over them and prevent submission
            Array.prototype.slice.call(forms)
                .forEach(function (form) {
                    form.addEventListener('submit', function (event) {
                        if (!form.checkValidity()) {
                            event.preventDefault()
                            event.stopPropagation()
                        }
                        form.classList.add('was-validated')
                    }, false)
                })
        })()
    </script>
</div> <!-- /container -->
</body>
</html>